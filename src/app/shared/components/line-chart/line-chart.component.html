<svg #svg [attr.height]="height" class="chart-svg" role="img" aria-label="Line chart">
  <defs>
    <linearGradient id="grad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="var(--brand)" />
      <stop offset="100%" stop-color="var(--purple)" />
    </linearGradient>
  </defs>
  <g *ngFor="let s of series; let si = index">
    <path [attr.d]="pathFor(s.values)" fill="none" [attr.stroke]="s.color || 'url(#grad)'" stroke-width="2" />
  </g>
  <g *ngIf="hoveredIndex !== null">
    <line [attr.x1]="x(hoveredIndex!)" [attr.x2]="x(hoveredIndex!)" y1="8" [attr.y2]="height-8" stroke="currentColor" opacity=".2" />
    <g *ngFor="let s of series; let si = index">
      <circle [attr.cx]="x(hoveredIndex!)" [attr.cy]="y(s.values[hoveredIndex!])" r="4" fill="var(--surface)" stroke="var(--brand)" stroke-width="2" />
    </g>
  </g>
</svg>
<div class="chart-footer">
  <div class="labels">
    <span *ngFor="let l of labels; let i = index" class="tick" [style.insetInlineStart.px]="x(i)">{{ l }}</span>
  </div>
  <div class="tooltip" *ngIf="hoveredIndex !== null" [style.insetInlineStart.px]="x(hoveredIndex!)">
    <div *ngFor="let s of series">
      <strong>{{ s.values[hoveredIndex!] }}</strong>
    </div>
    <small>{{ labels[hoveredIndex!] }}</small>
  </div>
</div>
