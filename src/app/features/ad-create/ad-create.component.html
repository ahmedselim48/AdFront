<form [formGroup]="form" (ngSubmit)="submit()" class="ad-form">
  <h2 class="mb-4 text-center">{{ 'ads.createTitle' | t }}</h2>
  <!-- Title -->
  <div class="mb-3">
    <label class="form-label">{{ 'ads.title' | t }}</label>
    <input 
      type="text" 
      class="form-control" 
      formControlName="title" 
      [placeholder]="'ads.titlePlaceholder' | t" />
    <div class="text-danger" *ngIf="form.get('title')?.invalid && form.get('title')?.touched">
      {{ 'ads.titleRequired' | t }}
    </div>
  </div>

  <!-- Description -->
  <div class="mb-3">
    <label class="form-label">{{ 'ads.description' | t }}</label>
    <textarea 
      class="form-control" 
      formControlName="description" 
      rows="4" 
      [placeholder]="'ads.descriptionPlaceholder' | t"></textarea>
    <div class="text-danger" *ngIf="form.get('description')?.invalid && form.get('description')?.touched">
      {{ 'ads.descriptionRequired' | t }}
    </div>
  </div>

  <!-- Price -->
  <div class="mb-3">
    <label class="form-label">{{ 'ads.price' | t }}</label>
    <input 
      type="number" 
      class="form-control" 
      formControlName="price" 
      [placeholder]="'ads.pricePlaceholder' | t" />
    <div class="text-danger" *ngIf="form.get('price')?.invalid && form.get('price')?.touched">
      {{ 'ads.priceInvalid' | t }}
    </div>
  </div>

  <!-- Location -->
  <div class="mb-3">
    <label class="form-label">{{ 'ads.location' | t }}</label>
    <input 
      type="text" 
      class="form-control" 
      formControlName="location" 
      [placeholder]="'ads.locationPlaceholder' | t" />
    <div class="text-danger" *ngIf="form.get('location')?.invalid && form.get('location')?.touched">
      {{ 'ads.locationRequired' | t }}
    </div>
  </div>

  <!-- File Upload -->
  <div class="mb-3">
    <label for="fileInput" class="form-label d-block">
      {{ 'ads.upload' | t }}
    </label>
    <input id="fileInput" type="file" (change)="onFileChange($event)" multiple class="form-control">
  </div>

  <!-- Preview -->
  <div class="preview" *ngIf="previewUrls.length > 0">
    <div class="preview-item" *ngFor="let url of previewUrls">
      <img [src]="url" alt="preview">
    </div>
  </div>

<!-- Submit -->
<button class="btn btn-gradient mt-3" type="submit" [disabled]="uploading || form.invalid">
  {{ uploading ? ('ads.uploading' | t ) : ('ads.create' | t) }}
</button>

<!-- AI Fill Button -->
<button class="btn btn-outline-gradient mt-3 ms-2" type="button" (click)="onAnalyze()">
  {{ 'ads.fillWithAI' | t }}
</button>



  <!-- Error -->
  <div class="text-danger mt-2" *ngIf="error">{{ error }}</div>
</form>
