<div class="subscription-status">
  <!-- No Subscription -->
  <div *ngIf="!subscriptionStatus" class="no-subscription">
    <div class="no-subscription-content">
      <lucide-icon name="crown" size="48" class="no-subscription-icon"></lucide-icon>
      <h4>غير مشترك</h4>
      <p>قم بالاشتراك للاستفادة من الميزات المتقدمة</p>
      <button mat-raised-button color="primary" routerLink="/subscription">
        <lucide-icon name="crown" size="18" class="me-2"></lucide-icon>
        الاشتراك الآن
      </button>
    </div>
  </div>

  <!-- Active Subscription -->
  <div *ngIf="subscriptionStatus" class="subscription-info">
    <div class="subscription-header">
      <div class="subscription-icon" [class]="'icon-' + getStatusColor()">
        <lucide-icon [name]="getStatusIcon()" size="24"></lucide-icon>
      </div>
      <div class="subscription-details">
        <h4>اشتراك Pro</h4>
        <p [class]="'status-' + getStatusColor()">{{ getStatusText() }}</p>
      </div>
    </div>

    <div class="subscription-progress" *ngIf="subscriptionStatus.hasActive">
      <div class="progress-info">
        <span class="progress-label">متبقي</span>
        <span class="progress-value">{{ subscriptionStatus.daysRemaining }} يوم</span>
      </div>
      <mat-progress-bar 
        [value]="getProgressValue()" 
        [color]="getStatusColor()"
        mode="determinate">
      </mat-progress-bar>
      <div class="progress-dates">
        <span class="start-date">بداية الاشتراك</span>
        <span class="end-date" *ngIf="subscriptionStatus.endDate">
          ينتهي في {{ formatDate(subscriptionStatus.endDate) }}
        </span>
      </div>
    </div>

    <div class="subscription-actions">
      <button mat-stroked-button routerLink="/subscription" class="manage-button">
        <lucide-icon name="settings" size="18" class="me-2"></lucide-icon>
        إدارة الاشتراك
      </button>
      <button mat-raised-button color="primary" routerLink="/subscription/upgrade" *ngIf="!subscriptionStatus.hasActive">
        <lucide-icon name="crown" size="18" class="me-2"></lucide-icon>
        تجديد الاشتراك
      </button>
    </div>
  </div>
</div>
