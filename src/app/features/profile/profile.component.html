<div class="profile-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>جاري تحميل البيانات...</p>
  </div>

  <!-- Profile Content -->
  <div *ngIf="!isLoading" class="profile-content">
    <!-- Left Sidebar Navigation -->
    <div class="sidebar">
      <!-- Navigation Menu -->
      <nav class="sidebar-nav">
        <ul class="nav-list">
          <li class="nav-item" 
              *ngFor="let item of menuItems; let i = index"
              [class.active]="activeTab === i"
              (click)="onTabChange(i)">
            <a class="nav-link" [routerLink]="item.route" [title]="item.label">
              <lucide-icon [name]="item.icon" size="20" class="nav-icon"></lucide-icon>
              <span class="nav-badge" *ngIf="item.badge">{{ item.badge }}</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Content Header -->
      <div class="content-header">
        <div class="header-info">
          <h1 class="page-title">{{ getCurrentPageTitle() }}</h1>
          <p class="page-description">{{ getCurrentPageDescription() }}</p>
        </div>
        <div class="header-actions">
          <button class="action-btn secondary" (click)="onRefresh()">
            <lucide-icon name="refresh-cw" size="16"></lucide-icon>
            <span>تحديث</span>
          </button>
        </div>
      </div>

      <!-- Router Outlet for Child Components -->
      <div class="content-body">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>

<!-- Loading Overlay -->
<div class="loading-overlay" *ngIf="isLoading">
  <div class="loading-spinner">
    <div class="spinner"></div>
    <span>جاري التحميل...</span>
  </div>
</div>
