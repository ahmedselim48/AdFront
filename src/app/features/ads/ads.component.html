<section class="ads-wrap">
  <h2>Create Ad</h2>
  <form [formGroup]="form" (ngSubmit)="save()" class="grid">
    <label>Name<input formControlName="name"></label>
    <label>Status<select formControlName="status"><option value="draft">Draft</option><option value="scheduled">Scheduled</option><option value="active">Active</option><option value="paused">Paused</option></select></label>
    <label>Schedule at<input type="datetime-local" formControlName="scheduleAt"></label>
    <div class="variants">
      <div class="variants-header">
        <h3>Variants (A/B)</h3>
        <button type="button" (click)="addVariant()">Add Variant</button>
      </div>
      <div class="variant" *ngFor="let v of variants.controls; let i = index" [formGroup]="v">
        <label>Title<input formControlName="title"></label>
        <label>Body<textarea formControlName="body"></textarea></label>
        <label>Active<input type="checkbox" formControlName="isActive"></label>
        <input type="file" (change)="onFile($event, i)">
        <button type="button" (click)="removeVariant(i)">Remove</button>
      </div>
    </div>
    <button type="submit" [disabled]="form.invalid">Save</button>
  </form>
</section>
