<header class="app-header">
  <div class="container header-inner">
    <a routerLink="/home" class="brand" aria-label="AdFront home">AdFront</a>
    <button class="menu-toggle focus-ring" (click)="toggleMenu()" [attr.aria-expanded]="mobileOpen" aria-label="Toggle menu">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>
    <nav class="nav-links" [class.open]="mobileOpen" (click)="closeMenu()">
      <!-- Main Navigation -->
      <a routerLink="/home" routerLinkActive="active" aria-label="Home">
        <i class="icon">ğŸ </i>
        {{ 'nav.home' | t }}
      </a>
      <a routerLink="/dashboard" routerLinkActive="active" aria-label="Dashboard" *ngIf="storage?.accessToken">
        <i class="icon">ğŸ“Š</i>
        {{ 'nav.dashboard' | t }}
      </a>
      <a routerLink="/ads" routerLinkActive="active" aria-label="Ads" *ngIf="storage?.accessToken">
        <i class="icon">ğŸ“¢</i>
        {{ 'nav.ads' | t }}
      </a>
      <a routerLink="/smart-replies" routerLinkActive="active" aria-label="Smart Replies" *ngIf="storage?.accessToken">
        <i class="icon">ğŸ¤–</i>
        {{ 'nav.smartReplies' | t }}
      </a>
      <a routerLink="/chat" routerLinkActive="active" aria-label="Chat" class="chat-link" *ngIf="storage?.accessToken">
        <i class="icon">ğŸ’¬</i>
        {{ 'nav.chat' | t }}
        <span class="badge" *ngIf="unreadCount>0">{{ unreadCount }}</span>
      </a>
      <a routerLink="/direct-chat" routerLinkActive="active" aria-label="Direct Chat" *ngIf="storage?.accessToken">
        <i class="icon">ğŸ‘¥</i>
        {{ 'nav.directChat' | t }}
      </a>
      <a routerLink="/competition" routerLinkActive="active" aria-label="Competition" *ngIf="storage?.accessToken">
        <i class="icon">ğŸ†</i>
        {{ 'nav.competition' | t }}
      </a>
      <a routerLink="/reports" routerLinkActive="active" aria-label="Reports" *ngIf="storage?.accessToken">
        <i class="icon">ğŸ“ˆ</i>
        {{ 'nav.reports' | t }}
      </a>
      <a routerLink="/admin" routerLinkActive="active" aria-label="Admin" *ngIf="storage?.accessToken">
        <i class="icon">âš™ï¸</i>
        {{ 'nav.admin' | t }}
      </a>
      
      <!-- User Section -->
      <div class="user-section" *ngIf="storage?.accessToken">
        <div class="user-info">
          <div class="user-avatar">{{ currentUser?.name?.slice(0,1) || 'U' }}</div>
          <div class="user-details">
            <div class="user-name">{{ currentUser?.name || 'User' }}</div>
            <div class="user-plan">{{ currentUser?.plan || 'free' | uppercase }}</div>
          </div>
        </div>
        <a routerLink="/profile" routerLinkActive="active" class="profile-link" aria-label="Profile">
          <i class="icon">ğŸ‘¤</i>
          {{ 'nav.profile' | t }}
        </a>
        <button type="button" class="button danger" (click)="logout()" aria-label="Logout">
          <i class="icon">ğŸšª</i>
          {{ 'auth.logout' | t }}
        </button>
      </div>
      
      <!-- Guest Section -->
      <div class="guest-section" *ngIf="!storage?.accessToken">
        <a routerLink="/auth/login" routerLinkActive="active" class="button primary" aria-label="Login">
          <i class="icon">ğŸ”‘</i>
          {{ 'auth.login' | t }}
        </a>
        <a routerLink="/auth/register" routerLinkActive="active" class="button secondary" aria-label="Register">
          <i class="icon">ğŸ“</i>
          {{ 'auth.register' | t }}
        </a>
      </div>
      
      <!-- Language Toggle -->
      <button type="button" class="button ghost focus-ring" (click)="toggleLang()" aria-label="Change language">
        <i class="icon">ğŸŒ</i>
        {{ langLabel }}
      </button>
    </nav>
  </div>
</header>
<main class="app-main">
  <router-outlet></router-outlet>
</main>
<app-toast-center></app-toast-center>
<footer class="app-footer">
  <div class="footer-content">Â© {{ currentYear }} AdFront</div>
</footer>
